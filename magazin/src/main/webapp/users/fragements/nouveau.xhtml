<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
   <h:head>
    <title>Inscription</title>
   </h:head>
    
    <h:body>
        <h:form style="width:100%;height:100%">
            <p:growl id="message" />
            <h:panelGrid columns="3" >
                
                <p:outputLabel for="username" value="nom utilisateur:" />
                    
                <p:inputText id="username" value="#{userInsertion.username}" required="true" label="Raison_Social">
                         <f:validateLength minimum="2" />
                         <f:ajax event="blur" render="msgUsername" />
                    </p:inputText>
                    <p:message for="username" id="msgUsername" display="icon" />
                
                
                <p:outputLabel for="mail" value="Adresse mail:" />
                <p:inputText id="mail" value="#{userInsertion.mail}" label="mail" required="true">
                        <f:ajax event="blur" render="msgMail" />
                        <f:validator binding="#{adresseMailValidator}" />
                        <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                        <f:validateLength minimum="6" />
                     </p:inputText>
                    
                     <p:message for="mail" id="msgMail" display="icon" />
                     
           <p:outputLabel for="psw" value="Mot de passe" /> 
           <p:password  id="psw" match="copsw" label="Mot de passe" placeholder="mot de passe" value="#{userInsertion.psw}" feedback="true" inline="true" required="true" />
           <p:message for="psw" id="msgPsw"  display="icon" />
           
           <p:outputLabel for="copsw" value="Confirmer le mot de passe" /> 
           <p:password id="copsw" value="#{userInsertion.psw}" label="Confirmation mot de passe" placeholder="confirmation mot de passe" />
           <p:message for="copsw" id="msgCopsw" display="icon" />     
           
           <p:outputLabel for="tel" value="Tel:" />
           <p:inputMask id="tel" value="#{userInsertion.tel}" mask="(999) 99-99-99" required="false"/>
           <p:message for="tel" id="msgTel" display="icon" />
            
           </h:panelGrid>
            
            <p:commandButton value="s'inscrir" action="#{userInsertion.insert()}" update="message"/>
            
        </h:form>
    </h:body>
     
</html>